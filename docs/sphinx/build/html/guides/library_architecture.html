

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Library Architecture &mdash; AI Agent Framework 2.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=b21de401"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Execution Framework" href="execution_framework.html" />
    <link rel="prev" title="Using the Docs Server" href="using_docs_server.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            AI Agent Framework
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Domain Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../powerbi/index.html">Power BI Domain Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../framework_guide.html">Framework Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">AI Agent Framework (Overview)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Library Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#design-philosophy">Design Philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#directory-structure">Directory Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#public-api">Public API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-tools-with-the-tool-decorator">Creating Tools with the &#64;tool Decorator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-domain-specific-tools-class-based">Creating Domain-Specific Tools (Class-Based)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pluggable-services">Pluggable Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-building-a-new-application">Example: Building a New Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#migration-from-previous-versions">Migration from Previous Versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="structured_final_response.html">Structured Final Response Pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtime_loop_stagnation.html">Runtime Loop &amp; Stagnation</a></li>
<li class="toctree-l1"><a class="reference internal" href="observability.html">Observability</a></li>
<li class="toctree-l1"><a class="reference internal" href="message_store_integration.html">Implementation Guide: Message Store Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="message_store_format.html">Message Store Format Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="message_store_implementation.html">Message Store Implementation Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AI Agent Framework</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Guides</a></li>
      <li class="breadcrumb-item active">Library Architecture</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/guides/library_architecture.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="library-architecture">
<h1>Library Architecture<a class="headerlink" href="#library-architecture" title="Link to this heading"></a></h1>
<p>The Agent Framework is designed as a <strong>reusable Python library</strong> that can be imported
into any application requiring agentic AI capabilities.</p>
<section id="design-philosophy">
<h2>Design Philosophy<a class="headerlink" href="#design-philosophy" title="Link to this heading"></a></h2>
<p>The framework follows a clear separation:</p>
<ul class="simple">
<li><p><strong>Generic Library</strong> (<code class="docutils literal notranslate"><span class="pre">agent-framework-pypi/src/agent_framework/</span></code>) - Reusable, domain-agnostic components</p></li>
<li><p><strong>Application Code</strong> (e.g., <code class="docutils literal notranslate"><span class="pre">bi_tools/</span></code>) - Domain-specific implementations</p></li>
</ul>
<p>This allows the framework to be:</p>
<ol class="arabic simple">
<li><p><strong>Pip-installable</strong> as a standalone package</p></li>
<li><p><strong>Extended</strong> with domain-specific tools and services</p></li>
<li><p><strong>Reused</strong> across multiple applications</p></li>
</ol>
</section>
<section id="directory-structure">
<h2>Directory Structure<a class="headerlink" href="#directory-structure" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>project/
├── agent-framework-pypi/
│   └── src/agent_framework/      # GENERIC LIBRARY (pip package)
│       ├── __init__.py           # Public API exports
│       ├── base.py               # BaseTool, BasePlanner, BaseMemory
│       ├── core/
│       │   ├── agent.py          # Agent class
│       │   ├── manager_v2.py     # ManagerAgent class
│       │   └── events.py         # EventBus
│       ├── components/
│       │   ├── planners.py       # ReAct, Router, Strategic planners
│       │   ├── memory.py         # In-memory implementations
│       │   └── message_store_memory.py  # Message store-backed memories
│       ├── gateways/
│       │   └── inference.py      # OpenAI, Google AI gateways
│       ├── policies/             # Policy system &amp; presets
│       ├── services/             # Request context, context builder
│       └── tools/utility/        # Generic tools
│
├── bi_tools/                     # DOMAIN-SPECIFIC (example)
│   ├── services/
│   │   └── datamodel_service.py  # Power BI data model service
│   └── tools/
│       ├── column/               # Column tools
│       ├── measure/              # Measure tools
│       └── ...                   # Other domain tools
│
├── configs/                      # YAML configurations &amp; registries
│
└── deployment/                   # Factory and registry
    ├── factory.py                # Agent factory
    └── registry.py               # Component registry
</pre></div>
</div>
</section>
<section id="public-api">
<h2>Public API<a class="headerlink" href="#public-api" title="Link to this heading"></a></h2>
<p>Import core components directly from the framework:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">Agent</span><span class="p">,</span>
    <span class="n">ManagerAgent</span><span class="p">,</span>
    <span class="n">BaseTool</span><span class="p">,</span>
    <span class="n">EventBus</span><span class="p">,</span>
    <span class="n">get_preset</span><span class="p">,</span>
    <span class="n">tool</span><span class="p">,</span>              <span class="c1"># NEW: Decorator for easy tool creation</span>
    <span class="n">FunctionalTool</span><span class="p">,</span>    <span class="c1"># NEW: Functional tool base class</span>
<span class="p">)</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">Action</span><span class="p">,</span> <span class="n">FinalResponse</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework.gateways.inference</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIGateway</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework.components.planners</span><span class="w"> </span><span class="kn">import</span> <span class="n">ReActPlanner</span>
</pre></div>
</div>
</section>
<section id="creating-tools-with-the-tool-decorator">
<h2>Creating Tools with the &#64;tool Decorator<a class="headerlink" href="#creating-tools-with-the-tool-decorator" title="Link to this heading"></a></h2>
<p>The easiest way to create a tool is using the <code class="docutils literal notranslate"><span class="pre">&#64;tool</span></code> decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework</span><span class="w"> </span><span class="kn">import</span> <span class="n">tool</span>

<span class="nd">@tool</span>
<span class="k">def</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">formal</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Generate a greeting message.</span>

<span class="sd">    name: The name of the person to greet</span>
<span class="sd">    formal: Whether to use formal greeting</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">formal</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Good day, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>

<span class="c1"># The tool is now fully compatible with the agent framework</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">greet</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="n">formal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Or call directly:</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">greet</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>With custom configuration:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework</span><span class="w"> </span><span class="kn">import</span> <span class="n">tool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CalculatorArgs</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">a</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;First number&quot;</span><span class="p">)</span>
    <span class="n">b</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Second number&quot;</span><span class="p">)</span>
    <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Operation: add, sub, mul, div&quot;</span><span class="p">)</span>

<span class="nd">@tool</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;calculator&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Perform arithmetic operations&quot;</span><span class="p">,</span> <span class="n">args_schema</span><span class="o">=</span><span class="n">CalculatorArgs</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">calc</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;add&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Calculator tool.&#39;&#39;&#39;</span>
    <span class="n">ops</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;add&quot;</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">,</span> <span class="s2">&quot;mul&quot;</span><span class="p">:</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="s2">&quot;div&quot;</span><span class="p">:</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span> <span class="k">if</span> <span class="n">b</span> <span class="o">!=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">ops</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;tool</span></code> decorator automatically:</p>
<ul class="simple">
<li><p>Generates <code class="docutils literal notranslate"><span class="pre">args_schema</span></code> from function type hints</p></li>
<li><p>Uses the docstring as the description</p></li>
<li><p>Parses docstring for parameter descriptions</p></li>
<li><p>Creates a <code class="docutils literal notranslate"><span class="pre">BaseTool</span></code>-compatible instance</p></li>
</ul>
</section>
<section id="creating-domain-specific-tools-class-based">
<h2>Creating Domain-Specific Tools (Class-Based)<a class="headerlink" href="#creating-domain-specific-tools-class-based" title="Link to this heading"></a></h2>
<p>For more complex tools, create a class inheriting from <code class="docutils literal notranslate"><span class="pre">BaseTool</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_app/tools/my_tool.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseTool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyToolArgs</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">query</span><span class="p">:</span> <span class="nb">str</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyToolOutput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">result</span><span class="p">:</span> <span class="nb">str</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyTool</span><span class="p">(</span><span class="n">BaseTool</span><span class="p">):</span>
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;my_tool&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Does something useful&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">args_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MyToolArgs</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">output_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MyToolOutput</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">MyToolArgs</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Processed: </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Register via YAML config</strong> (<code class="docutils literal notranslate"><span class="pre">configs/tools/my_tool.yaml</span></code>):</p></li>
</ol>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyTool</span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_app.tools.my_tool.MyTool</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>Or register dynamically</strong>:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">deployment.registry</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_tool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">my_app.tools.my_tool</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyTool</span>

<span class="n">register_tool</span><span class="p">(</span><span class="s2">&quot;MyTool&quot;</span><span class="p">,</span> <span class="n">MyTool</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="pluggable-services">
<h2>Pluggable Services<a class="headerlink" href="#pluggable-services" title="Link to this heading"></a></h2>
<p>The framework uses pluggable services for domain-specific functionality.</p>
<p><strong>Registering a data model service:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework.services.context_builder</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_datamodel_service</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bi_tools.services.datamodel_service</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_datamodel_service</span>

<span class="c1"># Call this at application startup</span>
<span class="n">register_datamodel_service</span><span class="p">(</span><span class="n">get_datamodel_service</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Registering additional config directories:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">deployment.registry</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_config_root</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># Register your app&#39;s config directory</span>
<span class="n">register_config_root</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;my_app/configs&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p><strong>For development (editable install):</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>./agent-framework-pypi
</pre></div>
</div>
<p><strong>For production:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>agentic-framework
</pre></div>
</div>
</section>
<section id="example-building-a-new-application">
<h2>Example: Building a New Application<a class="headerlink" href="#example-building-a-new-application" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_app/main.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework</span><span class="w"> </span><span class="kn">import</span> <span class="n">Agent</span><span class="p">,</span> <span class="n">BaseTool</span><span class="p">,</span> <span class="n">tool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework.gateways.inference</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIGateway</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework.components.planners</span><span class="w"> </span><span class="kn">import</span> <span class="n">ReActPlanner</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">deployment.factory</span><span class="w"> </span><span class="kn">import</span> <span class="n">AgentFactory</span>

<span class="c1"># Option 1: Quick tool creation with decorator</span>
<span class="nd">@tool</span>
<span class="k">def</span><span class="w"> </span><span class="nf">search_docs</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Search documentation for relevant content.&#39;&#39;&#39;</span>
    <span class="c1"># Your implementation here</span>
    <span class="k">return</span> <span class="p">[{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Result&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Found: </span><span class="si">{</span><span class="n">query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}]</span>

<span class="c1"># Option 2: Register class-based tools</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">deployment.registry</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_tool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">my_app.tools</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyTool</span><span class="p">,</span> <span class="n">AnotherTool</span>

<span class="n">register_tool</span><span class="p">(</span><span class="s2">&quot;MyTool&quot;</span><span class="p">,</span> <span class="n">MyTool</span><span class="p">)</span>
<span class="n">register_tool</span><span class="p">(</span><span class="s2">&quot;AnotherTool&quot;</span><span class="p">,</span> <span class="n">AnotherTool</span><span class="p">)</span>

<span class="c1"># 2. Create agent from YAML config</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">AgentFactory</span><span class="o">.</span><span class="n">create_from_yaml</span><span class="p">(</span><span class="s2">&quot;configs/agents/my_agent.yaml&quot;</span><span class="p">)</span>

<span class="c1"># 3. Run the agent</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">agent</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;Process this request&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="migration-from-previous-versions">
<h2>Migration from Previous Versions<a class="headerlink" href="#migration-from-previous-versions" title="Link to this heading"></a></h2>
<p><strong>Import path changes:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Before</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">framework</span><span class="w"> </span><span class="kn">import</span> <span class="n">Agent</span><span class="p">,</span> <span class="n">BaseTool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">framework.tools.column</span><span class="w"> </span><span class="kn">import</span> <span class="n">AddColumnTool</span>

<span class="c1"># After</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework</span><span class="w"> </span><span class="kn">import</span> <span class="n">Agent</span><span class="p">,</span> <span class="n">BaseTool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bi_tools.tools.column</span><span class="w"> </span><span class="kn">import</span> <span class="n">AddColumnTool</span>
</pre></div>
</div>
<p><strong>YAML tool configs:</strong></p>
<p>Update the <code class="docutils literal notranslate"><span class="pre">class</span></code> path in your YAML configs:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Before</span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">framework.tools.column.AddColumnTool</span>

<span class="c1"># After</span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bi_tools.tools.column.AddColumnTool</span>
</pre></div>
</div>
<p><strong>New: Use &#64;tool decorator for simple tools:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Before: 30+ lines of boilerplate</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyTool</span><span class="p">(</span><span class="n">BaseTool</span><span class="p">):</span>
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="s2">&quot;my_tool&quot;</span>
    <span class="c1"># ... more boilerplate ...</span>

<span class="c1"># After: Just a few lines</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agent_framework</span><span class="w"> </span><span class="kn">import</span> <span class="n">tool</span>

<span class="nd">@tool</span>
<span class="k">def</span><span class="w"> </span><span class="nf">my_tool</span><span class="p">(</span><span class="n">arg</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;My tool description.&#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="using_docs_server.html" class="btn btn-neutral float-left" title="Using the Docs Server" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="execution_framework.html" class="btn btn-neutral float-right" title="Execution Framework" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>